---
layout: post
title: Arch Linux on Raspberry Pi, Part 2
categories: arch
---

###In a Nutshell

_Installation_
_The Command-line Interface_
_XBMC in the world of Linux_
_Conclusion_

###Introduction

Create user and add a password for them:

  `useradd -m -g wheel dancingborg`
  `passwd dancingborg`

Install sudo to allow root commands by new user:

  `pacman -S sudo`

  `visudo`

  Remove # from wheel entry to allow wheel users to sudo:

  `#%wheel ALL=(ALL) ALL`
  TO
  `%wheel ALL=(ALL) ALL`

Disable root login via SSH:

  `vim /etc/ssh/sshd_config`

  add: `PermitRootLogin no`

  `reboot`

  Login as user.

Remove MOTD:

  `sudo rm /etc/motd`

Enable pacman colours:

  https://wiki.archlinux.org/index.php/Color_Bash_Prompt

  `vim /etc/pacman.conf

    #Color		-->		Color`

Install package-query to install Yaourt:

  https://astrofloyd.wordpress.com/2015/01/17/installing-yaourt-on-arch-linux/

  `pacman -S base-devel yajl
  pacman -S wget
  wget https://aur.archlinux.org/cgit/aur.git/snapshot/package-query.tar.gz
  tar xfz package-query.tar.gz
  cd package-query
  makepkg
  sudo pacman -U package-query*.pkg.tar.xz
  wget https://aur.archlinux.org/cgit/aur.git/snapshot/yaourt.tar.gz
  tar xzf yaourt.tar.gz
  cd yaourt
  makepkg
  sudo pacman -U yaourt*.pkg.tar.xz
  rm -r ~/package-query
  rm -r ~/yaourt
  rm -r *.tar.gz`

Liquid Prompt:

  https://github.com/nojhan/liquidprompt
  https://www.liquidstate.net/liquid-prompt/
  Use the following instructions:
  http://www.webupd8.org/2013/04/liquid-prompt-adaptive-prompt-for-bash.html

  `sudo pacman -S git
  git clone https://github.com/nojhan/liquidprompt.git ~/.liquidprompt
  mkdir .config
  cp ~/.liquidprompt/liquidpromptrc-dist ~/.config/liquidpromptrc
  vim .bashrc`
    Add to end of file: `. ~/.liquidprompt/liquidprompt`
  Log out and back in!

Measure CPU temperature and create Bash alias:

  https://www.raspberrypi.org/forums/viewtopic.php?f=91&t=34994

  `/opt/vc/bin/vcgencmd measure_temp
  vim ~/.bashrc`
  Add before liquidprompt lines:
    `alias temp='/opt/vc/bin/vcgencmd measure_temp'`
  `temp`

Tmux:

  https://wiki.archlinux.org/index.php/tmux#Installation
  `sudo pacman -S tmux`

  https://wiki.archlinux.org/index.php/tmux#Start_tmux_on_every_shell_login
  `vim ~/.bashrc`
  Add before aliases:
    `# Start Tmux on every shell login
    # https://coderwall.com/p/tgm2la/auto-attach-or-start-tmux-at-login
    # If not running interactively, do not do anything

    if [[ "$TERM" != "screen" ]] &&
          ; then
      # Attempt to discover a detached session and attach
      # it, else create a new session

      WHOAMI=$(whoami)
      if tmux has-session -t $WHOAMI 2>/dev/null; then
          tmux -2 attach-session -t $WHOAMI
      else
          tmux -2 new-session -s $WHOAMI
      fi
    else`

  Use the cheat sheet in case you lose a session:
    http://www.dayid.org/comp/tm.html

Zsh:

  https://wiki.archlinux.org/index.php/zsh#Installation
  `echo $SHELL
  sudo pacman -S zsh zsh-completions`
  Append custom `~/.bashrc` to `~/.zshrc`

  https://wiki.archlinux.org/index.php/Command-line_shell#Changing_your_default_shell
  `chsh -l`
  http://unix.stackexchange.com/questions/71236/zsh-is-in-usr-bin-but-also-in-bin-what-is-the-difference
  `chsh -s /bin/zsh` per `chsh -l` path to zsh
  Log out and back in.
